class EmoticonFilter < AsakusaSatellite::Filter::Base

  @@path = 'emoticons'
  @@translation_rule = {
    "(smile)" => "smile.gif",
    "(sad)" => "sadsmile.gif",
    "(laugh)" => "bigsmile.gif",
    "(cool)" => "cool.gif",
    "(surprised)" => "surprised.gif",
    "(wink)" => "wink.gif",
    "(cry)" => "crying.gif",
    "(sweat)" => "sweating.gif",
    "(speechless)" => "speechless.gif",
    "(kiss)" => "kiss.gif",
    "(tongueout)" => "tongueout.gif",
    "(blush)" => "blush.gif",
    "(wonder)" => "wondering.gif",
    "(snooze)" => "sleepy.gif",
    "(dull)" => "dull.gif",
    "(inlove)" => "inlove.gif",
    "(love)" => "inlove.gif",
    "(grin)" => "evilgrin.gif",
    "(talk)" => "talking.gif",
    "(yawn)" => "yawn.gif",
    "(puke)" => "puke.gif",
    "(doh)" => "doh.gif",
    "(angry)" => "angry.gif",
    "(wasntme)" => "itwasntme.gif",
    "(party)" => "party.gif",
    "(worry)" => "worried.gif",
    "(mm)" => "mmm.gif",
    "(mmm)" => "mmm.gif",
    "(mmmm)" => "mmm.gif",
    "(nerd)" => "nerd.gif",
    "(wave)" => "hi.gif",
    "(hi)" => "hi.gif",
    "(bye)" => "hi.gif",
    "(call)" => "call.gif",
    "(devil)" => "devil.gif",
    "(angel)" => "angel.gif",
    "(envy)" => "envy.gif",
    "(wait)" => "wait.gif",
    "(hug)" => "bear.gif",
    "(bear)" => "bear.gif",
    "(makeup)" => "makeup.gif",
    "(kate)" => "makeup.gif",
    "(chuckle)" => "giggle.gif",
    "(giggle)" => "giggle.gif",
    "(clap)" => "clapping.gif",
    "(think)" => "thinking.gif",
    "(bow)" => "bow.gif",
    "(rofl)" => "rofl.gif",
    "(whew)" => "whew.gif",
    "(happy)" => "happy.gif",
    "(smirk)" => "smirk.gif",
    "(nod)" => "nod.gif",
    "(shake)" => "shake.gif",
    "(punch)" => "punch.gif",
    "(emo)" => "emo.gif",
    "(y)" => "yes.gif",
    "(Y)" => "yes.gif",
    "(ok)" => "yes.gif",
    "(yes)" => "yes.gif",
    "(n)" => "no.gif",
    "(N)" => "no.gif",
    "(no)" => "no.gif",
    "(handshake)" => "handshake.gif",
    "(skype)" => "skype.gif",
    "(ss)" => "skype.gif",
    "(h)" => "heart.gif",
    "(H)" => "heart.gif",
    "(l)" => "heart.gif",
    "(L)" => "heart.gif",
    "(heart)" => "heart.gif",
    "(u)" => "brokenheart.gif",
    "(U)" => "brokenheart.gif",
    "(brokenheart)" => "brokenheart.gif",
    "(e)" => "mail.gif",
    "(m)" => "mail.gif",
    "(mail)" => "mail.gif",
    "(F)" => "flower.gif",
    "(f)" => "flower.gif",
    "(flower)" => "flower.gif",
    "(rain)" => "rain.gif",
    "(london)" => "rain.gif",
    "(sun)" => "sun.gif",
    "(o)" => "time.gif",
    "(O)" => "time.gif",
    "(time)" => "time.gif",
    "(clock)" => "time.gif",
    "(music)" => "music.gif",
    "(~)" => "movie.gif",
    "(film)" => "movie.gif",
    "(movie)" => "movie.gif",
    "(mp)" => "phone.gif",
    "(ph)" => "phone.gif",
    "(phone)" => "phone.gif",
    "(coffee)" => "coffee.gif",
    "(pi)" => "pizza.gif",
    "(pizza)" => "pizza.gif",
    "(cash)" => "cash.gif",
    "(mo)" => "cash.gif",
    "($)" => "cash.gif",
    "(flex)" => "muscle.gif",
    "(muscle)" => "muscle.gif",
    "(^)" => "cake.gif",
    "(cake)" => "cake.gif",
    "(beer)" => "beer.gif",
    "(bricklayers)" => "beer.gif",
    "(d)" => "drink.gif",
    "(D)" => "drink.gif",
    "(drink)" => "drink.gif",
    "(dance)" => "dance.gif",
    "(ninja)" => "ninja.gif",
    "(*)" => "star.gif",
    "(star)" => "star.gif",
    "(mooning)" => "mooning.gif",
    "(finger)" => "middlefinger.gif",
    "(bandit)" => "bandit.gif",
    "(drunk)" => "drunk.gif",
    "(smoking)" => "smoke.gif",
    "(smoke)" => "smoke.gif",
    "(ci)" => "smoke.gif",
    "(toivo)" => "toivo.gif",
    "(rock)" => "rock.gif",
    "(headbang)" => "headbang.gif",
    "(banghead)" => "headbang.gif",
    "(poolparty)" => "poolparty.gif",
    "(hrv)" => "poolparty.gif",
    "(swear)" => "swear.gif",
    "(bug)" => "bug.gif",
    "(fubar)" => "fubar.gif",
    "(tmi)" => "tmi.gif",
    "(heidy)" => "heidy.gif",
    "(myspace)" => "myspace.gif",
    "(zilmer)" => "priidu.gif"
  }.delete_if do |k,filename|
    not (Rails.root+"public/#{@@path}/#{filename}").exist?
  end

  def process(text, opts={})
    @@translation_rule.each_pair do |keyword,filename|
      text.gsub!(keyword, "<img style='height:1.5em;' src='/#{@@path}/#{filename}'/>")
    end
    return text
  end

end

